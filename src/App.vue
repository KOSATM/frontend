<template>
  <div id="app">
    <!-- ðŸ”¹ í—¤ë” -->
    <AppHeader @toggle-sidebar="isSidebarOpen = true" />

    <!-- ðŸ”¹ ì‚¬ì´ë“œë°” -->
    <Sidebar :isOpen="isSidebarOpen" @close="isSidebarOpen = false" />

    <!-- ðŸ”¹ ë©”ì¸ ì»¨í…ì¸  -->
    <main class="container-fms">
      <LandingPage />
    </main>

    <!-- ðŸ”¹ í‘¸í„° -->
    <AppFooter />
  </div>
</template>

<script setup>
import { ref, watch } from 'vue'
import AppHeader from './components/AppHeader.vue'
import AppFooter from './components/AppFooter.vue'
import Sidebar from './components/Sidebar.vue'
import LandingPage from './views/LandingPage.vue'

const isSidebarOpen = ref(false)

// âœ… ì‚¬ì´ë“œë°” ì—´ë¦´ ë•Œ ë°°ê²½ ìŠ¤í¬ë¡¤ ë°©ì§€
watch(isSidebarOpen, (v) => {
  document.body.style.overflow = v ? 'hidden' : ''
})

document.querySelectorAll(".nav-item").forEach((item) => {
  item.addEventListener("click", () => {
    document.querySelectorAll(".nav-item").forEach((el) => el.classList.remove("active"));
    item.classList.add("active");
  });
});

</script>
