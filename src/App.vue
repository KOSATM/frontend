<template>
  <div id="app">
    <!-- ğŸ”¹ í—¤ë” -->
    <AppHeader @toggle-sidebar="isSidebarOpen = true" />

    <!-- ğŸ”¹ ì‚¬ì´ë“œë°” -->
    <Sidebar :isOpen="isSidebarOpen" @close="isSidebarOpen = false" />

    <!-- ğŸ”¹ ë©”ì¸ ì»¨í…ì¸  -->
    <main class="container-fms">
      <LandingPage />
    </main>

    <!-- ğŸ”¹ í‘¸í„° -->
    <AppFooter />
  </div>
</template>

<script setup>
import { createApp, ref, watch } from 'vue'
import App from './App.vue'
import router from './router'          // âœ… ì´ ì¤„ í•„ìˆ˜
import AppHeader from './components/AppHeader.vue'
import AppFooter from './components/AppFooter.vue'
import Sidebar from './components/Sidebar.vue'
import LandingPage from './views/LandingPage.vue'
import 'bootstrap/dist/css/bootstrap.min.css'
import 'bootstrap/dist/js/bootstrap.bundle.min.js'

const isSidebarOpen = ref(false)

// âœ… ì‚¬ì´ë“œë°” ì—´ë¦´ ë•Œ ë°°ê²½ ìŠ¤í¬ë¡¤ ë°©ì§€
watch(isSidebarOpen, (v) => {
  document.body.style.overflow = v ? 'hidden' : ''
})

document.querySelectorAll(".nav-item").forEach((item) => {
  item.addEventListener("click", () => {
    document.querySelectorAll(".nav-item").forEach((el) => el.classList.remove("active"));
    item.classList.add("active");
  });
});

createApp(App)
  .use(router)                         // âœ… router ë“±ë¡ í•„ìˆ˜
  .mount('#app')

</script>
